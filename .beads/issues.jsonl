{"id":"moon_rodio-05s","title":"Close remaining parity gaps: play(reader), generic wav writer, microphone full sample formats + low-CPU polling, speakers play(handle)","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-18T12:13:31.992995+08:00","created_by":"Milky2018","updated_at":"2026-02-18T12:16:54.361966+08:00","closed_at":"2026-02-18T12:16:54.361966+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_rodio-05s","depends_on_id":"moon_rodio-aiu","type":"blocks","created_at":"2026-02-18T12:13:37.052658+08:00","created_by":"Milky2018"},{"issue_id":"moon_rodio-05s","depends_on_id":"moon_rodio-c1z","type":"blocks","created_at":"2026-02-18T12:13:37.177481+08:00","created_by":"Milky2018"},{"issue_id":"moon_rodio-05s","depends_on_id":"moon_rodio-axt","type":"blocks","created_at":"2026-02-18T12:13:37.281975+08:00","created_by":"Milky2018"},{"issue_id":"moon_rodio-05s","depends_on_id":"moon_rodio-dhy","type":"blocks","created_at":"2026-02-18T12:13:37.378285+08:00","created_by":"Milky2018"}]}
{"id":"moon_rodio-18d","title":"Finish remaining rodio parity slices: spatial player, wav writer aliases, play(reader), microphone, speakers","description":"Implement remaining parity slices identified in gap audit and keep native tests green.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-18T11:22:25.861573+08:00","created_by":"Milky2018","updated_at":"2026-02-18T11:34:52.314609+08:00","closed_at":"2026-02-18T11:34:52.314609+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_rodio-18d","depends_on_id":"moon_rodio-u6q","type":"blocks","created_at":"2026-02-18T11:22:47.408476+08:00","created_by":"Milky2018"},{"issue_id":"moon_rodio-18d","depends_on_id":"moon_rodio-rgi","type":"blocks","created_at":"2026-02-18T11:22:47.502+08:00","created_by":"Milky2018"},{"issue_id":"moon_rodio-18d","depends_on_id":"moon_rodio-hzb","type":"blocks","created_at":"2026-02-18T11:22:47.597381+08:00","created_by":"Milky2018"},{"issue_id":"moon_rodio-18d","depends_on_id":"moon_rodio-q1k","type":"blocks","created_at":"2026-02-18T11:22:47.691864+08:00","created_by":"Milky2018"},{"issue_id":"moon_rodio-18d","depends_on_id":"moon_rodio-9hr","type":"blocks","created_at":"2026-02-18T11:22:47.789115+08:00","created_by":"Milky2018"}]}
{"id":"moon_rodio-2dk","title":"Open Source/FixedSource traits and add Source::record/is_exhausted parity APIs","description":"Align remaining Source API parity with rodio: make traits open for external impl and add missing helper APIs with tests.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-18T12:32:35.031284+08:00","created_by":"Milky2018","updated_at":"2026-02-18T12:34:26.01088+08:00","closed_at":"2026-02-18T12:34:26.01088+08:00","close_reason":"Completed: Source/FixedSource open traits and record/is_exhausted parity with tests","labels":["parity","source"]}
{"id":"moon_rodio-2hb","title":"Fix Windows WASAPI GUID linker failures in CI","description":"Windows native CI fails with unresolved IID_IAudioClient/CLSID_MMDeviceEnumerator symbols from moon_cpal wasapi lib. Add stable GUID shim in root native stubs.","status":"closed","priority":1,"issue_type":"bug","owner":"842376130@qq.com","created_at":"2026-02-18T13:13:38.569241+08:00","created_by":"Milky2018","updated_at":"2026-02-18T13:13:42.156871+08:00","closed_at":"2026-02-18T13:13:42.156871+08:00","close_reason":"Completed: added Windows GUID shim native stub and validated tests","labels":["ci","linker","windows"]}
{"id":"moon_rodio-2m5","title":"Parity: expand noise API and statistical behavior tests","description":"Continue 1:1 alignment with rodio-reference source/noise.rs by adding missing noise APIs (std_dev on WhiteUniform/WhiteTriangular) and porting more upstream statistical behavior tests for bounded/unbounded generators and spectral characteristics.","acceptance_criteria":"- WhiteUniform::std_dev and WhiteTriangular::std_dev exported\n- WhiteGaussian sample generation aligned to declared stddev\n- Added tests: bounded/unbounded generator checks, white/triangular/pink/blue/violet/velvet behavior parity\n- moon test --target native passes","status":"closed","priority":1,"issue_type":"feature","owner":"842376130@qq.com","created_at":"2026-02-23T18:09:04.486862+08:00","created_by":"Milky2018","updated_at":"2026-02-23T18:10:24.022947+08:00","closed_at":"2026-02-23T18:10:24.022947+08:00","close_reason":"Completed: expanded noise API parity and ported additional statistical behavior tests"}
{"id":"moon_rodio-3jh","title":"Add LimitMono/LimitStereo/LimitMulti compatibility wrappers","description":"Align remaining source/limit public compatibility types from rodio-reference by adding LimitMono, LimitStereo, LimitMulti wrappers over existing Limit behavior, including constructors/inner accessors and Source delegation, with tests for parity with Limit output.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-23T20:10:41.648354+08:00","created_by":"Milky2018","updated_at":"2026-02-23T20:12:02.60858+08:00","closed_at":"2026-02-23T20:12:02.60858+08:00","close_reason":"Implemented LimitMono/LimitStereo/LimitMulti wrappers with Source delegation and parity tests"}
{"id":"moon_rodio-3ss","title":"Parity: port samples buffer seek channel-order regression test","description":"Port rodio buffer seek channel-order test to ensure seek preserves frame alignment across multiple seeks and odd/even offsets.","acceptance_criteria":"- Add test matching rodio buffer channel_order_stays_correct intent\n- moon test --target native passes","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-23T18:43:28.621035+08:00","created_by":"Milky2018","updated_at":"2026-02-23T18:44:09.68438+08:00","closed_at":"2026-02-23T18:44:09.68438+08:00","close_reason":"Completed: added samples buffer seek channel-order regression test aligned with rodio reference"}
{"id":"moon_rodio-51c","title":"Implement source generator/filter slice","description":"Add source-side generators and basic combinators toward rodio source module parity.","notes":"Closed remaining source exported names gap by adding AutomaticGainControl, BltFilter (low/high-pass), WhiteUniform, and Pink implementations with tests.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-14T10:54:02.401903+08:00","created_by":"Milky2018","updated_at":"2026-02-14T16:29:55.378753+08:00","closed_at":"2026-02-14T16:29:55.378753+08:00","close_reason":"Completed source generator/filter and exported source type parity with tests."}
{"id":"moon_rodio-54x","title":"Harden Windows FFmpeg provisioning in CI (strict validation, no fallback)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-17T16:59:01.396297+08:00","updated_at":"2026-02-17T16:59:49.266749+08:00","closed_at":"2026-02-17T16:59:49.266749+08:00","close_reason":"Strict reliable Windows FFmpeg provisioning implemented","comments":[{"id":84,"issue_id":"moon_rodio-54x","author":"Milky2018","text":"Reworked Windows FFmpeg provisioning to strict/reliable mode (no fallback): use vcpkg binary caching (x-gha), install minimal required FFmpeg features (avcodec,avformat,avutil,swresample) for x64-windows, and add retry loop (3 attempts). FFmpeg prebuild detection remains mandatory before native tests. Updated README to reflect strict Windows FFmpeg validation. Local validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (149 passed).","created_at":"2026-02-17T08:59:49Z"},{"id":85,"issue_id":"moon_rodio-54x","author":"Milky2018","text":"Follow-up fix for strict mode: corrected vcpkg FFmpeg feature set. Previous spec used invalid feature 'avutil'; replaced with valid minimal spec ffmpeg[avcodec,avformat,swresample]:x64-windows.","created_at":"2026-02-17T09:02:19Z"}]}
{"id":"moon_rodio-6m5","title":"Audit and close remaining rodio parity gaps (non-lifetime)","description":"Compare moon_rodio APIs/behavior against rodio-reference and implement remaining non-lifetime parity gaps with tests.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-14T18:12:04.291183+08:00","created_by":"Milky2018","updated_at":"2026-02-16T12:55:05.173116+08:00","closed_at":"2026-02-16T12:55:05.173116+08:00","close_reason":"Remaining non-lifetime rodio parity gaps completed; lifecycle semantics intentionally excluded","comments":[{"id":14,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: aligned ChannelVolume semantics with rodio (mono mixdown + per-output-channel expansion, output channels = factors length, strict set_volume index checks); aligned Speed metadata/seek semantics (total_duration scaled by factor, try_seek mapped by factor) for both functional and named wrappers; added parity tests. Blocker found in moon_cpal: Duration is read-only and only exposes Duration::from_secs, so moon_rodio cannot construct sub-second Duration values for precise nanos-return parity (e.g., total_duration/get_pos with nanos).","created_at":"2026-02-14T10:18:24Z"},{"id":15,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: implemented sink seek path (queue output now forwards try_seek to current source; Sink::try_seek forwards and updates position_samples). Also preserved seek/metadata forwarding through with_done_count and updated sink/spatial tests to assert successful seek behavior.","created_at":"2026-02-14T10:20:47Z"},{"id":18,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: aligned queue/span semantics closer to rodio by implementing SourcesQueueOutput::current_span_len with threshold fallback and queued-source aware behavior; switched ControlledQueueSource metadata/seek methods to forward to inner queue source; added queue current_span_len regression coverage.","created_at":"2026-02-14T12:12:21Z"},{"id":19,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: aligned queue/mixer path further by implementing SourcesQueueOutput::current_span_len semantics (threshold fallback and queued-source awareness), and forwarding ControlledQueueSource current_span_len/total_duration/try_seek to inner queue source; added regression test for queue current_span_len behavior.","created_at":"2026-02-14T12:12:52Z"},{"id":20,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: implemented real TakeDuration named-wrapper behavior (fadeout filter toggle, bounded remaining sample state, seek-aware remaining update, metadata forwarding with duration min), replacing previous no-op set_filter_fadeout/clear_filter. Added regression tests for fadeout shape, clear_filter behavior, and seek behavior.","created_at":"2026-02-14T12:21:37Z"},{"id":21,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: aligned FromFactoryIter metadata/seek behavior with rodio FromIter semantics (current_span_len threshold fallback + seek forwarding to current source) and added dedicated from_factory seek regression tests. Reworked named Limit/LimitSettings away from no-op config: settings now carry threshold/knee/attack/release with rodio-aligned presets, limiter now applies soft-knee gain reduction with attack/release envelope smoothing and state reset on seek, and added tests covering knee/attack/release behavior differences. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (106 passed).","created_at":"2026-02-14T12:29:28Z"},{"id":22,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: fixed track_position parity gap for changing source metadata by making DynSource preserve dynamic channels/sample_rate when built from Source (new DynSource::new_dynamic + to_dyn forwarding closures), then reworked TrackPosition state to track span counters/offset like rodio and refresh span state on seek. Added regression tests for speed-adjusted track_position and cross-span timing via from_factory. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (108 passed).","created_at":"2026-02-14T12:33:24Z"},{"id":23,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: aligned more source semantics with rodio-reference by reworking linear_gain_ramp_with_clamp to use time-based gain progression (per-frame elapsed update), forwarding current_span_len/total_duration/try_seek, and making seek update ramp elapsed time. Also replaced skip_duration's initial one-shot skip with span-aware skipping logic and dynamic metadata forwarding, then added regression coverage for skip_duration length cases and linear-ramp seek behavior. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (109 passed).","created_at":"2026-02-14T12:37:29Z"},{"id":24,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: continued dynamic-metadata parity by switching several compositional filters to DynSource::new_dynamic (amplify/take/mix/speed, skip_duration/take_duration/delay wrappers, limit/crossfade wrappers) so channels/sample_rate follow upstream source spans. Refined skip_duration span-aware skip arithmetic to avoid drift and match expected sample counts, while keeping dynamic metadata forwarding. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (109 passed).","created_at":"2026-02-14T12:38:50Z"},{"id":25,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: aligned SignalGenerator/waveform seek semantics and sawtooth phase with rodio-style behavior: SignalGenerator now supports try_seek via phase remap, Sine/Square/Sawtooth/Triangle wrappers now forward try_seek to inner generator, and sawtooth waveform formula now starts at 0.0 like upstream signal_generator. Added regression tests for waveform seek reset and updated sawtooth expectations. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (110 passed).","created_at":"2026-02-14T12:41:06Z"},{"id":26,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: aligned crossfade semantics to rodio-reference (crossfade now returns only the overlapped fade segment by composing TakeDuration + fadeout filter + FadeIn and then mix), and updated crossfade tests to verify bounded output length/shape. Removed stale helper in source_effects_ext after refactor. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (110 passed).","created_at":"2026-02-14T13:43:06Z"},{"id":27,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: extended periodic access API toward rodio parity by adding periodic_access_with_source / periodic_with_source (callbacks can now mutate the inner source), while preserving existing no-arg periodic APIs as wrappers for backward compatibility. Added regression test demonstrating callback-driven seek mutation behavior. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (111 passed).","created_at":"2026-02-14T13:45:08Z"},{"id":28,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: aligned empty-source duration semantics with rodio by making empty/empty-callback report total_duration = Some(0s) instead of None, and added assertions in tests to lock this behavior. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (111 passed).","created_at":"2026-02-14T13:46:10Z"},{"id":29,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: aligned Pausable internal state machine with rodio semantics by storing paused_channels instead of a plain paused bool, so pause/resume transitions mirror upstream behavior and paused channel width is captured at pause time. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (111 passed).","created_at":"2026-02-14T13:47:07Z"},{"id":30,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: mirrored remaining periodic-reference tests from rodio (stereo periodic callback cadence and fast-access/short-period non-overflow case) into source_ext_test to lock periodic behavior during further parity refactors. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (113 passed).","created_at":"2026-02-14T13:48:07Z"},{"id":31,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: ported additional rodio signal_generator behavioral checks (square/triangle/saw/sine wave sequences at reference rates/frequencies) into moon_rodio tests to lock waveform parity. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (114 passed).","created_at":"2026-02-14T13:48:59Z"},{"id":32,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: fixed EmptyCallback behavior mismatch with rodio by invoking callback on every next() call (instead of only first call), updated tests accordingly, and regenerated interface metadata. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (114 passed).","created_at":"2026-02-14T13:50:23Z"},{"id":33,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: aligned zero-source seek semantics closer to rodio by making zero/zero_samples accept try_seek (return Ok), and made finite zero_samples expose current_span_len based on remaining samples. Added regression assertions for seek + span metadata and adjusted default seek-not-supported test to use Empty source. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (114 passed).","created_at":"2026-02-14T13:57:01Z"},{"id":34,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: added named LinearGainRamp::new_with_clamp API to expose rodio-style clamp_end control at wrapper level (existing new keeps clamp=true behavior), plus regression test for unclamped named wrapper output. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (114 passed).","created_at":"2026-02-14T13:57:59Z"},{"id":35,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: aligned Mix construction closer to rodio by wrapping both inputs with UniformSourceIterator at left source format, so mix metadata now follows rodio semantics (current_span_len stays None through uniform wrappers; total_duration resolves via max when both sides are known). Added regression test rodio::source::mix_metadata. Also ported key decoder seek parity checks from rodio tests: seek_beyond_end_saturates, seek_possible_after_exhausting_source, and seek_results_in_correct_remaining_playtime (using 1Hz WAV fixture for deterministic duration mapping). Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (118 passed).","created_at":"2026-02-14T14:04:38Z"},{"id":36,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: aligned repeat_infinite behavior closer to rodio Repeat by adding seek forwarding and span reporting to SamplesBuffer::repeat_infinite. The repeated source now exposes current_span_len as remaining samples until loop boundary and supports try_seek with loop wrap semantics. Added regression test rodio::source::repeat_infinite_seek_and_span. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (119 passed).","created_at":"2026-02-14T14:06:27Z"},{"id":37,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: ported remaining upstream crossfade unit behavior by adding self-crossfade parity assertions (crossfadeing identical sources yields identity over overlap window, with epsilon checks for floating-point rounding). Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (119 passed).","created_at":"2026-02-14T14:07:18Z"},{"id":38,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: fixed Buffered wrapper seek parity mismatch. In upstream rodio, Buffered::try_seek is NotSupported; moon_rodio named Buffered had incorrectly forwarded seek to inner SamplesBuffer. Updated Source impl for Buffered to return NotSupported and added regression assertions in named_wrappers_inner_accessors test. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (119 passed).","created_at":"2026-02-14T14:08:41Z"},{"id":39,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: corrected repeat seek semantics after re-checking upstream internals. rodio Repeat delegates seek to Buffered, and Buffered seek is NotSupported; therefore moon_rodio repeat_infinite seek support was removed to match parity. Kept repeat span metadata coverage and updated regression test to assert SeekError::NotSupported. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (119 passed).","created_at":"2026-02-14T14:09:30Z"},{"id":40,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: added decoder parity coverage for remaining rodio seek/duration behaviors. New tests verify exact total_duration mapping for reference MP3/FLAC/Vorbis fixtures, and verify that seek restores stereo channel alignment even after odd-index sample consumption. Also introduced stereo WAV fixture builder helper for deterministic channel-order tests. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (121 passed).","created_at":"2026-02-14T14:16:52Z"},{"id":41,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: fixed queue clear parity gap. SourcesQueueInput::clear now only clears pending queued sources (matching rodio queue semantics) and no longer resets/drops the currently playing source. Removed reset_version/sync_reset machinery and added regression test rodio::queue::tests::clear_keeps_current_source. Updated Sink::stop and Sink::clear to explicitly skip the current source after clearing pending queue so sink behavior remains immediate-stop/clear. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (122 passed).","created_at":"2026-02-14T14:18:45Z"},{"id":42,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: added parity coverage for queue runtime keep-alive toggling and decoder builder fallback paths. New queue test verifies set_keep_alive_if_empty(false) while consuming fallback silence causes queue to stop after the current threshold chunk. New decoder tests verify MIME-based decode selection and bad-hint fallback to auto-detection. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (124 passed).","created_at":"2026-02-14T14:19:52Z"},{"id":43,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: aligned queue seek behavior with rodio contract ('seek current source only') by removing pending-source promotion in SourcesQueueOutput::try_seek. Added regression test proving try_seek on initial empty current source returns NotSupported without consuming pending queued source. Also updated internal make_zero_dyn_source metadata/seek behavior to match zero-source expectations (current_span_len + seek support), preventing fallback-seek regressions in sink/spatial paths. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (125 passed).","created_at":"2026-02-14T14:21:41Z"},{"id":44,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: adopted raylib-style prebuild automation for linker flags in moon_rodio. Added build.js and enabled --moonbit-unstable-prebuild in moon.mod.json; moon.pkg now consumes ${build.MOON_RODIO_CC_LINK_FLAGS} so native link flags are selected per-platform (darwin/linux/win32) instead of hardcoded macOS flags. Note: prebuild link_configs cannot target external packages (Moon rejects package names outside current module), so vars + moon.pkg substitution is used to achieve dynamic behavior. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (125 passed).","created_at":"2026-02-15T11:00:41Z"},{"id":45,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: bumped moon_cpal dependency from 0.10.12 to 0.11.0 in moon.mod.json as requested. Refreshed registry via moon update so the new version could resolve, then validated with moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (125 passed). No API changes were required in moon_rodio for this version bump.","created_at":"2026-02-15T11:13:41Z"},{"id":46,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: fixed a remaining sink parity bug where repeated skip_one() calls could over-decrement len() while only one skip was actually pending. Sink now keeps at most one pending skip request and decrements sound_count only once per queued skip. Added wbtest rodio::sink::tests::skip_one_accumulates_bounded_requests to lock this behavior. Also filed follow-up issue moon_rodio-vit for full rodio to_clear-style multi-skip parity across prefetch timing. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (126 passed).","created_at":"2026-02-15T11:18:31Z"},{"id":47,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: implemented rodio-style queued skip requests in sink pipeline by replacing single skip flag with to_clear counter semantics. skip_one now queues bounded clear requests without immediate len decrement; ControlledQueueSource applies queued skips in playback loop and decrements sound_count when skips are consumed. Updated wb regression test skip_one_accumulates_bounded_requests to assert deferred len updates and multi-skip behavior. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (126 passed).","created_at":"2026-02-15T14:49:54Z"},{"id":48,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: extended sink parity on runtime speed control. Added speed_with_control wrapper so set_speed affects already-queued/current sources via dynamic sample_rate/seek metadata forwarding, and switched with_done_count to DynSource::new_dynamic so those metadata changes are preserved through done tracking. Reworked sink position tracking from sample-count snapshot to per-sample Duration accumulation, so get_pos reflects runtime speed changes accurately. Added wb tests speed_runtime_update_affects_current_source and get_pos_tracks_runtime_speed_changes. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (128 passed).","created_at":"2026-02-15T14:52:23Z"},{"id":49,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: aligned sink stop/clear semantics with rodio-reference. stop() now only flips stopped flag; append() now waits for stopped queue flush via sleep_until_end before resuming; clear() now sets to_clear=len, waits, then pauses. Also fixed fallback-edge skip accounting by adding logical-source skip helper (when queue is on fallback, first skip advances to first real source, second skip drops it), and added wbtest rodio::sink::tests::stop_flushes_queue_on_poll. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (129 passed).","created_at":"2026-02-15T15:52:20Z"},{"id":50,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: improved SpatialSink runtime position propagation. Added private SpatialSinkSource wrapper that syncs emitter/ear refs into SpatialSource on every next() before sample generation, so append() no longer freezes spatial coordinates at append-time. Added whitebox regressions covering runtime updates through direct wrapper, to_dyn, sink speed/done wrappers, and full Sink queue pipeline. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (135 passed).","created_at":"2026-02-15T20:43:50Z"},{"id":51,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: aligned uniform source conversion closer to rodio UniformSourceIterator. common_source::uniform_source now bootstraps conversion by current span (cap 32768), stores target metadata (channels/rate/total_duration), and reboots converter when a span ends; try_seek now seeks underlying source and rebuilds converter state. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (135 passed).","created_at":"2026-02-15T20:49:59Z"},{"id":52,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: aligned remaining seek semantics around in-memory buffers. SamplesBuffer::try_seek now preserves current channel offset like upstream rodio (seek target aligns to channel frame then re-applies current-channel offset), and added regression test samples_buffer_seek_preserves_channel_order. StaticSamplesBuffer::try_seek now returns SeekError::NotSupported to match rodio static_buffer behavior, with corresponding test. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (137 passed).","created_at":"2026-02-16T02:07:48Z"},{"id":53,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: aligned PlayError naming with rodio stream API style. PlayError now uses DecoderError(...) variant (instead of Decode), and play() maps decoder failures to PlayError::DecoderError. Added regression test play_decode_error_variant to lock this mapping. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (138 passed).","created_at":"2026-02-16T02:09:27Z"},{"id":54,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: aligned StaticSamplesBuffer span metadata with rodio static_buffer. current_span_len now returns None (instead of remaining sample count). Added regression test static_samples_buffer_current_span_len_none and kept seek-not-supported parity test. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (139 passed).","created_at":"2026-02-16T02:10:15Z"},{"id":55,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: aligned WAV decoder coverage and behavior closer to rodio wav_test by extending decode_wav_bytes beyond PCM16 to support PCM 8/16/24/32 and IEEE float32 (plus partial WAVE_FORMAT_EXTENSIBLE subformat handling). Added decoder package regressions for each supported WAV format and unsupported-format rejection. Also added native async integration tests in decoder_bridge_test that read rodio-reference/assets WAV and FLAC fixtures via async fs to verify non-silent decoding and FLAC duration expectations. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (145 passed).","created_at":"2026-02-16T02:20:31Z"},{"id":56,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Follow-up tracked: created moon_rodio-jhn for remaining MP4A/AAC parity gap (requires extra native decoder backend dependency).","created_at":"2026-02-16T02:21:06Z"},{"id":58,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: installed and applied moonbit-c-binding skill, then implemented native MP4A/AAC decoder path. Added decoder/mp4a_native.c (AudioToolbox ExtAudioFile from in-memory bytes) and decoder/mp4a_decoder_native.mbt wrapper; wired decoder_bridge for m4a/mp4/aac hint+mime handling, MP4 signature probing (ftyp), Decoder::new_mp4a API, and Decoder::new fallback auto-detection. Added native regression test rodio::decoder_api::mp4a_native_decode_and_builder_paths using rodio-reference/assets/monkeys.mp4a. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (146 passed). Follow-up filed: moon_rodio-a4l for Linux/Windows MP4A backend.","created_at":"2026-02-16T02:58:55Z"},{"id":60,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Current remaining non-lifetime parity blocker is cross-platform MP4A backend (moon_rodio-a4l). Apple native path is implemented; Linux/Windows need one extra AAC+MP4 native library choice before implementation can continue.","created_at":"2026-02-16T04:35:05Z"},{"id":61,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: aligned MP3 seek contract closer to rodio builder behavior by introducing forward-only seek mode when decoder is configured seekable=true without byte_len. Decoder::builder()+mp3 now allows forward seeks but rejects backward seeks with SeekError::NotSupported unless byte_len is provided, while existing random-access behavior with byte_len remains enabled. Added regression test rodio::decoder_api::mp3_seek_without_byte_len_is_forward_only. Validation passed: moon fmt \u0026\u0026 moon test --target native \u0026\u0026 moon info (147 passed).","created_at":"2026-02-16T04:45:52Z"},{"id":63,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Progress: implemented cross-platform MP4A backend architecture. decoder/mp4a_native.c now supports Apple AudioToolbox and optional non-Apple FFmpeg decode path; build.js now probes FFmpeg via pkg-config (Linux) or MOON_RODIO_FFMPEG_CFLAGS/MOON_RODIO_FFMPEG_LIBS env overrides and exports decoder-specific flags consumed by decoder/moon.pkg. Non-Apple without FFmpeg now reports Unsupported cleanly instead of platform hard-stop. Validation passed: moon fmt \u0026\u0026 moon test --target native \u0026\u0026 moon info (147 passed). Follow-up for CI verification created as moon_rodio-i9h.","created_at":"2026-02-16T04:50:23Z"},{"id":65,"issue_id":"moon_rodio-6m5","author":"Milky2018","text":"Final parity sweep update: added optional non-Apple FFmpeg MP4A backend path, platform-aware prebuild flag wiring, Linux/Windows FFmpeg CI workflow, and backend setup docs. Remaining intentional delta is lifecycle/drop-hook semantics only (explicitly excluded by project decision).","created_at":"2026-02-16T04:55:05Z"}]}
{"id":"moon_rodio-75j","title":"Add Decoder file/reader-style input parity APIs","description":"Add non-lifecycle parity APIs for path/file-like decoder construction in MoonBit (native-focused) and tests.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-14T17:51:37.996088+08:00","created_by":"Milky2018","updated_at":"2026-02-14T18:00:39.113482+08:00","closed_at":"2026-02-14T18:00:39.113482+08:00","close_reason":"Closed","comments":[{"id":10,"issue_id":"moon_rodio-75j","author":"Milky2018","text":"Added native-oriented file input parity APIs for decoder: async Decoder::try_from_file(path) and Decoder::try_from_file_looped(path), implemented via moonbitlang/async/fs read_file(). Added native async test that writes WAV fixture, decodes from path, and validates looped behavior. Validation: moon test --target native (96/96).","created_at":"2026-02-14T10:00:39Z"}]}
{"id":"moon_rodio-75t","title":"Export Source and FixedSource trait aliases in subpackages","description":"Expose trait aliases in source and fixed_source compatibility packages so module-path imports can reference Source/FixedSource directly.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-23T21:55:46.4748+08:00","created_by":"Milky2018","updated_at":"2026-02-23T21:56:14.586828+08:00","closed_at":"2026-02-23T21:56:14.586828+08:00","close_reason":"Completed Source and FixedSource trait alias exports","comments":[{"id":96,"issue_id":"moon_rodio-75t","author":"Milky2018","text":"Implemented trait exports in compatibility subpackages and verified with full native tests.","created_at":"2026-02-23T13:56:07Z"}]}
{"id":"moon_rodio-7n7","title":"Fix latest Native CI failure after adding license headers","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-17T16:22:08.476444+08:00","updated_at":"2026-02-17T16:50:50.067617+08:00","closed_at":"2026-02-17T16:50:50.067617+08:00","close_reason":"Native CI green with Windows optional FFmpeg fallback","comments":[{"id":80,"issue_id":"moon_rodio-7n7","author":"Milky2018","text":"Investigated latest CI state: Linux is green; Windows msvc lane spends long time in FFmpeg install/build. Applied hardening for MSVC linking by switching Windows workflow FFmpeg libs env to '/LIBPATH:... avformat.lib avcodec.lib avutil.lib swresample.lib' and changed build.js Windows system link flags to '.lib' form (ole32.lib uuid.lib mmdevapi.lib avrt.lib) to avoid cl ignoring -l/-L GNU flags. Local validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (149 passed).","created_at":"2026-02-17T08:28:51Z"},{"id":83,"issue_id":"moon_rodio-7n7","author":"Milky2018","text":"Confirmed fixed on CI: Native CI run 22091488494 completed SUCCESS. Linux FFmpeg lane passed; Windows lane passed with optional FFmpeg install timing out at 8 minutes and falling back to MSVC native tests as designed.","created_at":"2026-02-17T08:50:49Z"}]}
{"id":"moon_rodio-7vs","title":"Add decoder backend compatibility wrapper types","description":"In Milky2018/moon_rodio/decoder, add naming-compatible wrapper structs WavDecoder, Mp3Decoder, FlacDecoder, VorbisDecoder (new/into_inner + delegating methods) and lightweight ReadSeekSource shape to reduce decoder module naming gaps vs rodio-reference decoder backends.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-23T20:35:56.982771+08:00","created_by":"Milky2018","updated_at":"2026-02-23T20:38:03.205906+08:00","closed_at":"2026-02-23T20:38:03.205906+08:00","close_reason":"Added decoder backend wrapper types (Wav/Mp3/Flac/Vorbis) and ReadSeekSource compatibility shape in decoder package with tests"}
{"id":"moon_rodio-8qg","title":"Upgrade moon_cpal to 0.11.1 and unblock stream format parity","description":"Bump Milky2018/moon_cpal to 0.11.1, verify spec.Data write API additions, and re-enable blocked OutputStream sample-format parity work if supported.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-16T20:31:04.094408+08:00","created_by":"Milky2018","updated_at":"2026-02-16T20:35:24.660416+08:00","closed_at":"2026-02-16T20:35:24.660416+08:00","close_reason":"Closed","comments":[{"id":75,"issue_id":"moon_rodio-8qg","author":"Milky2018","text":"Completed: upgraded dependency to moon_cpal 0.11.1, updated moon.pkg imports, and implemented previously blocked OutputStream sample format parity path. Validation: moon fmt \u0026\u0026 moon info \u0026\u0026 moon test --target native (149 passed).","created_at":"2026-02-16T12:35:24Z"}]}
{"id":"moon_rodio-8v5","title":"Align decoder AAC/MP4 aliases and wav output error type","description":"Add Decoder::new_aac and Decoder::new_mp4 aliases to align rodio decoder constructors, and introduce ToWavError with fallible wav_to_file/wav_to_writer/output_to_wav API behavior instead of panic-only path. Update tests accordingly.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-23T20:32:05.039407+08:00","created_by":"Milky2018","updated_at":"2026-02-23T20:33:08.966002+08:00","closed_at":"2026-02-23T20:33:08.966002+08:00","close_reason":"Added Decoder::new_aac/new_mp4 aliases and ToWavError-backed fallible wav output APIs with passing tests"}
{"id":"moon_rodio-940","title":"Port static_buffer and fixed_source compatibility slice from rodio","description":"Add StaticSamplesBuffer and FixedSource compatibility APIs (non-lifecycle), port upstream static_buffer behavior tests, and verify native CI-local test suite.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-17T20:35:47.844045+08:00","created_by":"Milky2018","updated_at":"2026-02-17T20:39:49.881087+08:00","closed_at":"2026-02-17T20:39:49.881087+08:00","close_reason":"FixedSource/static_buffer compatibility slice implemented and tested.","comments":[{"id":87,"issue_id":"moon_rodio-940","author":"Milky2018","text":"Added FixedSource compatibility trait and adapters (FixedSamplesBuffer + FixedSourceAdapter), ported static_buffer behavior tests from upstream shape, and validated native test suite.","created_at":"2026-02-17T12:39:49Z"}]}
{"id":"moon_rodio-9ev","title":"Fill remaining non-lifecycle parity gaps with rodio-reference","description":"Complete remaining non-lifecycle differences: Source metadata/seek contract, decoder builder settings behavior, and reader/file input parity API for Decoder while keeping native backend.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-14T17:51:26.359797+08:00","created_by":"Milky2018","updated_at":"2026-02-14T18:00:45.675527+08:00","closed_at":"2026-02-14T18:00:45.675527+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_rodio-9ev","depends_on_id":"moon_rodio-9tn","type":"blocks","created_at":"2026-02-14T17:51:52.374201+08:00","created_by":"Milky2018"},{"issue_id":"moon_rodio-9ev","depends_on_id":"moon_rodio-b6o","type":"blocks","created_at":"2026-02-14T17:51:52.471977+08:00","created_by":"Milky2018"},{"issue_id":"moon_rodio-9ev","depends_on_id":"moon_rodio-75j","type":"blocks","created_at":"2026-02-14T17:51:52.56622+08:00","created_by":"Milky2018"}],"comments":[{"id":11,"issue_id":"moon_rodio-9ev","author":"Milky2018","text":"Completed all tracked non-lifecycle parity gaps: Source metadata/seek contract, DecoderBuilder seek behavior, and Decoder file-input parity APIs; all validations passed on native target (moon fmt \u0026\u0026 moon info \u0026\u0026 moon test --target native, 96/96).","created_at":"2026-02-14T10:00:45Z"},{"id":12,"issue_id":"moon_rodio-9ev","author":"Milky2018","text":"Post-close parity hardening: DynSource now preserves Source metadata/seek via closures (instead of erasing to defaults), and named wrappers forward current_span_len/total_duration/try_seek through inner source. Added regression tests for to_dyn and wrapper seek forwarding. Validation: moon fmt \u0026\u0026 moon info \u0026\u0026 moon test --target native (98/98).","created_at":"2026-02-14T10:03:57Z"}]}
{"id":"moon_rodio-9hr","title":"Implement speakers module parity slice","description":"Add speakers device listing and builder API parity over native output stream.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-18T11:22:37.446044+08:00","created_by":"Milky2018","updated_at":"2026-02-18T11:34:52.300923+08:00","closed_at":"2026-02-18T11:34:52.300923+08:00","close_reason":"Closed"}
{"id":"moon_rodio-9tn","title":"Extend Source trait with span/duration/seek metadata","description":"Add current_span_len/total_duration/try_seek API and wire through core source types and tests.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-14T17:51:29.719345+08:00","created_by":"Milky2018","updated_at":"2026-02-14T18:00:28.362108+08:00","closed_at":"2026-02-14T18:00:28.362108+08:00","close_reason":"Closed","comments":[{"id":8,"issue_id":"moon_rodio-9tn","author":"Milky2018","text":"Implemented Source parity extension: trait now includes current_span_len/total_duration/try_seek; all Source impls across package updated. Added concrete metadata+seek behavior for SamplesBuffer, StaticSamplesBuffer, Chirp, Decoder and LoopedDecoder; default behavior returns None / SeekError::NotSupported for non-seekable wrappers. Added tests for metadata and default seek contract. Validation: moon fmt \u0026\u0026 moon info \u0026\u0026 moon test --target native (96/96).","created_at":"2026-02-14T10:00:28Z"}]}
{"id":"moon_rodio-a4l","title":"Add non-Apple native MP4A backend","description":"Current MP4A decode implementation uses Apple AudioToolbox in decoder/mp4a_native.c and returns Unsupported on non-Apple platforms. Add Linux/Windows native decoder backend (via community C library or FFI binding) and keep Decoder::new/new_mp4a behavior consistent across native targets.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-16T10:58:50.528715+08:00","created_by":"Milky2018","updated_at":"2026-02-16T12:50:07.418712+08:00","closed_at":"2026-02-16T12:50:07.418712+08:00","close_reason":"Added optional FFmpeg-based non-Apple MP4A backend path with build detection and graceful fallback","labels":["decoder","followup","native","parity"],"comments":[{"id":59,"issue_id":"moon_rodio-a4l","author":"Milky2018","text":"Investigation: no bundled single-header AAC+MP4 decoder in currently vendored stack (dr_libs/minimp3/stb_vorbis). To complete Linux/Windows parity we need one additional native decode backend. Preferred options for integration: (1) FFmpeg/libavformat+libavcodec (mature, broad codec support), (2) GStreamer decodebin path (runtime dependency), or (3) lightweight AAC decoder + MP4 demux pair with permissive license. Once a concrete library is chosen, moon_rodio can wire platform branches in decoder/mp4a_native.c and extend build.js link flags accordingly.","created_at":"2026-02-16T04:34:48Z"},{"id":62,"issue_id":"moon_rodio-a4l","author":"Milky2018","text":"Implemented non-Apple MP4A backend path via optional FFmpeg FFI in decoder/mp4a_native.c. Build flow now probes FFmpeg through pkg-config on Linux (or MOON_RODIO_FFMPEG_CFLAGS/MOON_RODIO_FFMPEG_LIBS env override on any platform), injects decoder stub/link flags, and enables MOON_RODIO_ENABLE_FFMPEG for compilation. Runtime behavior: Apple keeps AudioToolbox path; non-Apple uses FFmpeg when enabled; otherwise status 100 maps to DecoderError::Unsupported(backend unavailable).","created_at":"2026-02-16T04:50:00Z"}]}
{"id":"moon_rodio-acg","title":"Parity: expand channel conversion tests (remove/add/length cases)","description":"Port additional rodio conversions/channels coverage into MoonBit tests: remove channels, add channels (including mono-\u003e4 and stereo-\u003e4), and output-length behavior equivalents of len_more/len_less.","acceptance_criteria":"- Add conversion tests for remove/add channel matrices\n- Add length behavior checks for channel conversion outputs\n- moon test --target native passes","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-23T19:17:39.381686+08:00","created_by":"Milky2018","updated_at":"2026-02-23T19:18:38.832108+08:00","closed_at":"2026-02-23T19:18:38.832108+08:00","close_reason":"Completed: expanded channel conversion parity matrix tests including remove/add and length behaviors"}
{"id":"moon_rodio-acw","title":"Parity: add seeded constructors for noise generators (new_with_rng equivalent)","description":"Provide deterministic seeded constructors across noise generators as MoonBit counterpart of rodio new_with_rng APIs, and add repeatability tests.","acceptance_criteria":"- Add new_with_seed constructors for WhiteUniform/WhiteTriangular/WhiteGaussian/Pink/Blue/Violet/Brownian/Red/Velvet\n- Add Velvet constructor supporting custom density + seed\n- Add tests proving same-seed repeatability and different-seed divergence\n- moon test --target native passes","status":"closed","priority":1,"issue_type":"feature","owner":"842376130@qq.com","created_at":"2026-02-23T18:41:29.438296+08:00","created_by":"Milky2018","updated_at":"2026-02-23T18:42:57.949804+08:00","closed_at":"2026-02-23T18:42:57.949804+08:00","close_reason":"Completed: added seeded noise constructors and repeatability tests (new_with_rng equivalent in MoonBit)"}
{"id":"moon_rodio-aiu","title":"Align play entrypoint to Reader and keep bytes helper","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-18T12:13:32.072382+08:00","created_by":"Milky2018","updated_at":"2026-02-18T12:16:54.294367+08:00","closed_at":"2026-02-18T12:16:54.294367+08:00","close_reason":"Closed"}
{"id":"moon_rodio-aww","title":"Parity: add Red noise generator and upstream noise behavior tests","description":"1:1 alignment with rodio-reference source/noise.rs: add Red generator API + Source impl and port missing behavior tests for integrated noise properties.","acceptance_criteria":"- Red type exported in Milky2018/moon_rodio\n- red generator produces finite samples and supports seek\n- tests added for Red and key noise parity behaviors\n- moon test --target native passes","status":"closed","priority":1,"issue_type":"feature","owner":"842376130@qq.com","created_at":"2026-02-23T17:36:35.989201+08:00","created_by":"Milky2018","updated_at":"2026-02-23T17:40:29.034887+08:00","closed_at":"2026-02-23T17:40:29.034887+08:00","close_reason":"Completed: added Red noise generator parity, aligned noise seek semantics, and ported additional noise behavior tests"}
{"id":"moon_rodio-axt","title":"Expand microphone input sample format coverage and reduce busy-wait CPU","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-18T12:13:32.23553+08:00","created_by":"Milky2018","updated_at":"2026-02-18T12:16:54.330156+08:00","closed_at":"2026-02-18T12:16:54.330156+08:00","close_reason":"Closed"}
{"id":"moon_rodio-ay0","title":"Add reference music seek/total-duration parity matrix tests","description":"Vendor required music/RL assets and add decoder parity matrix tests for total_duration and seek remaining playtime.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-18T12:41:54.643622+08:00","created_by":"Milky2018","updated_at":"2026-02-18T12:41:58.052442+08:00","closed_at":"2026-02-18T12:41:58.052442+08:00","close_reason":"Completed: vendored music/RL fixtures and added decoder parity matrix tests","labels":["decoder","parity","test"]}
{"id":"moon_rodio-b6o","title":"Implement effective DecoderBuilder seek settings and decoder seek behavior","description":"Use settings.with_seekable/with_byte_len to control decoder seek support and expose behavior through Source::try_seek where applicable.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-14T17:51:34.527285+08:00","created_by":"Milky2018","updated_at":"2026-02-14T18:00:33.853638+08:00","closed_at":"2026-02-14T18:00:33.853638+08:00","close_reason":"Closed","comments":[{"id":9,"issue_id":"moon_rodio-b6o","author":"Milky2018","text":"Implemented effective DecoderBuilder seek semantics: builder now applies settings.is_seekable to built Decoder/LoopedDecoder. Decoder/LoopedDecoder Source::try_seek now checks seekability and seeks via decoded sample cursor when enabled. Added decoder-side metadata methods for span/total_duration and tests covering seekable/non-seekable builder combinations (including with_byte_len + with_seekable(false)). Validation: moon test --target native (96/96).","created_at":"2026-02-14T10:00:33Z"}]}
{"id":"moon_rodio-c1z","title":"Generalize wav_to_writer beyond Buffer","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-18T12:13:32.151183+08:00","created_by":"Milky2018","updated_at":"2026-02-18T12:16:54.313177+08:00","closed_at":"2026-02-18T12:16:54.313177+08:00","close_reason":"Closed"}
{"id":"moon_rodio-cri","title":"Implement sink/stream semantic parity","description":"Close remaining semantic gaps versus rodio-reference in sink/stream lifecycle and control behavior.","notes":"Focus areas: sleep_until_end behavior, detach/drop semantics, seek behavior contract, and from_iter namespace/behavior gap.\nAdjusted naming conflict: source chain constructor is now from_iter(Array[DynSource]); buffer helper renamed to buffer_from_iter.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-14T16:31:29.028274+08:00","created_by":"Milky2018","updated_at":"2026-02-14T17:37:35.833174+08:00","closed_at":"2026-02-14T17:37:35.833174+08:00","close_reason":"Closed","comments":[{"id":1,"issue_id":"moon_rodio-cri","author":"Milky2018","text":"Implemented additional rodio parity slice: expanded noise generators (WhiteTriangular/WhiteGaussian/Velvet/Blue/Violet/Brownian), AGC control handles, reverb and distortion_with_gain APIs, periodic/repeat/fade aliases, wrapper inner accessors, and sink try_seek/get_pos semantic fixes. Validation: moon test --target native passed (77/77).","created_at":"2026-02-14T08:54:24Z"},{"id":2,"issue_id":"moon_rodio-cri","author":"Milky2018","text":"Follow-up parity additions: LimitSettings builder/preset API surface (with_threshold/with_knee_width/with_attack/with_release and dynamic_content/broadcast/mastering/gaming/live_performance), SignalGenerator::with_function alias, and accessor aliases tested. Revalidated native tests: 77/77.","created_at":"2026-02-14T08:55:58Z"},{"id":3,"issue_id":"moon_rodio-cri","author":"Milky2018","text":"Implemented queue end-signal support (append_with_signal + QueueSignal) and switched Sink::sleep_until_end to signal-based waiting instead of pure length spin. Added queue signal test; full native test suite now 78/78.","created_at":"2026-02-14T08:57:32Z"},{"id":4,"issue_id":"moon_rodio-cri","author":"Milky2018","text":"Remaining gap tracked: Rust Drop-driven detach/stop lifecycle cannot be mirrored 1:1 in MoonBit today; behavior currently exposed via explicit Sink controls instead of automatic destructor hooks.","created_at":"2026-02-14T08:58:46Z"},{"id":5,"issue_id":"moon_rodio-cri","author":"Milky2018","text":"Added more non-lifecycle parity: mutable wrapper APIs for Amplify/ChannelVolume/Distortion/Speed (setters + inner accessors), expanded wrapper accessor surface, added math module parity functions (lerp/db_to_linear/linear_to_db), and added conversion type wrappers (ChannelCountConverter/SampleRateConverter/SampleTypeConverter) with tests. Native tests now 86/86.","created_at":"2026-02-14T09:22:50Z"},{"id":6,"issue_id":"moon_rodio-cri","author":"Milky2018","text":"Added finite-silence parity APIs: zero_samples(...) and Zero::new_samples(...), with tests for raw source and named wrappers. Native test suite remains green (86/86).","created_at":"2026-02-14T09:25:05Z"},{"id":7,"issue_id":"moon_rodio-cri","author":"Milky2018","text":"Added non-lifecycle parity slice: Decoder::builder(), DecoderBuilder (with_data/with_hint/with_mime_type/with_seekable/with_gapless/with_coarse_seek/with_byte_len), Settings::default(), Decoder::new_looped(), and LoopedDecoder Source implementation. Also generalized from_iter to Array[S : Source] (still supports DynSource) and added async-fs native output_to_wav with header validation test. Validation: moon fmt \u0026\u0026 moon info \u0026\u0026 moon test --target native (91/91). Remaining known warning: moonbitlang/async import appears unused in moon info but is required for async test compilation.","created_at":"2026-02-14T09:36:11Z"}]}
{"id":"moon_rodio-cum","title":"Improve Source metadata forwarding parity for wrappers","description":"Forward current_span_len/total_duration/try_seek through wrapper inner sources where applicable; align LoopedDecoder total_duration semantics.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-14T18:05:15.198088+08:00","created_by":"Milky2018","updated_at":"2026-02-14T18:11:20.990985+08:00","closed_at":"2026-02-14T18:11:20.990985+08:00","close_reason":"done","comments":[{"id":13,"issue_id":"moon_rodio-cum","author":"Milky2018","text":"Completed: forwarded current_span_len/total_duration/try_seek for Done/controls/converters/AGC/Blt/PeriodicAccess/TrackPosition/SpatialSource; aligned UniformSourceIterator total_duration+try_seek and FromIter current_span_len+try_seek defaults; aligned LoopedDecoder total_duration=None and seek error for empty source; updated tests and verified moon test --target native (100/100).","created_at":"2026-02-14T10:11:20Z"}]}
{"id":"moon_rodio-d4i","title":"Add source nested module compatibility packages","description":"Add nested source module compatibility packages (noise/dither/limit/periodic/position/skip/crossfade/signal_generator) with alias-forwarded APIs and blackbox tests.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-23T21:59:21.390803+08:00","created_by":"Milky2018","updated_at":"2026-02-23T22:07:15.542681+08:00","closed_at":"2026-02-23T22:07:15.542681+08:00","close_reason":"Completed nested source module compatibility packages and tests","comments":[{"id":97,"issue_id":"moon_rodio-d4i","author":"Milky2018","text":"Added nested source compatibility subpackages for noise, dither, limit, periodic, position, skip, crossfade, and signal_generator. Each package forwards root APIs/types and includes blackbox tests. Full native test suite passes.","created_at":"2026-02-23T14:07:15Z"}]}
{"id":"moon_rodio-dhl","title":"Align AGC settings/floor and noise new_with_rng API parity","description":"Complete next non-lifecycle parity slice vs rodio-reference: (1) add AutomaticGainControlSettings type + defaults and make Source-facing AGC constructors accept settings, while keeping compatibility; (2) add AutomaticGainControl::set_floor behavior; (3) add noise generator new_with_rng-style constructors/API, plus tests.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-23T19:23:16.725357+08:00","created_by":"Milky2018","updated_at":"2026-02-23T19:29:32.609453+08:00","closed_at":"2026-02-23T19:29:32.609453+08:00","close_reason":"Implemented AGC settings+floor API parity and noise new_with_rng constructors with tests"}
{"id":"moon_rodio-dhy","title":"Add SpeakersBuilder::play and SinkHandle parity","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-18T12:13:32.318821+08:00","created_by":"Milky2018","updated_at":"2026-02-18T12:16:54.346085+08:00","closed_at":"2026-02-18T12:16:54.346085+08:00","close_reason":"Closed"}
{"id":"moon_rodio-e1s","title":"Rodio migration phase 2","description":"Fix moon_cpal link flags for tests; import decoder references; add rodio decoder subpackages and first parser/tests.","notes":"Decoder backends now: MP3=minimp3, FLAC=dr_flac, Vorbis=stb_vorbis (all native FFI + non-native stubs).\nSwitch decoder package to native-only mode: remove non-native stubs; keep preferred-target native.","status":"closed","priority":1,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-02-13T22:09:56.808091+08:00","created_by":"Milky2018","updated_at":"2026-02-14T10:32:42.40154+08:00","closed_at":"2026-02-14T10:32:42.40154+08:00","close_reason":"All planned migration tasks completed: native-only decoder backends (WAV/MP3/FLAC/Vorbis), root Decoder/play API, and queue/sink parity tests enabled."}
{"id":"moon_rodio-e1s.1","title":"Add cross-platform cc-link-flags for moon_cpal test linking","description":"Add explicit native linker flags in this repo so moon test can link moon_cpal backend libs on macOS/Linux/Windows.","notes":"Added native cc-link-flags in moon.pkg and verified moon test passes on macOS with CoreAudio frameworks.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-13T22:13:31.492192+08:00","created_by":"Milky2018","updated_at":"2026-02-13T22:16:47.426885+08:00","closed_at":"2026-02-13T22:16:47.426885+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_rodio-e1s.1","depends_on_id":"moon_rodio-e1s","type":"parent-child","created_at":"2026-02-13T22:13:31.493237+08:00","created_by":"Milky2018"}]}
{"id":"moon_rodio-e1s.2","title":"Clone decoder reference repos","description":"Clone upstream rust decoder repos into *-reference dirs and ignore them in git.","notes":"Cloned mp3-reference(minimp3_fixed 0.5.4), wav-reference(hound 3.5.0), flac-reference(claxon 0.4.2), vorbis-reference(lewton 0.10.2) and added ignore rules.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-13T22:13:38.382757+08:00","created_by":"Milky2018","updated_at":"2026-02-13T22:16:47.427844+08:00","closed_at":"2026-02-13T22:16:47.427844+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_rodio-e1s.2","depends_on_id":"moon_rodio-e1s","type":"parent-child","created_at":"2026-02-13T22:13:38.383658+08:00","created_by":"Milky2018"}]}
{"id":"moon_rodio-e1s.3","title":"Create decoder subpackages and port first slice","description":"Add rodio decoder subpackages in MoonBit, port tests first, then implement first minimal decoder path.","notes":"Added subpackage username/moon_rodio/decoder with DecoderError/DecodedSamples, implemented decode_wav_bytes (PCM16), added stub APIs for mp3/flac/vorbis, and added 5 tests passing.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-13T22:13:45.347959+08:00","created_by":"Milky2018","updated_at":"2026-02-13T22:20:43.973736+08:00","closed_at":"2026-02-13T22:20:43.961459+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_rodio-e1s.3","depends_on_id":"moon_rodio-e1s","type":"parent-child","created_at":"2026-02-13T22:13:45.348989+08:00","created_by":"Milky2018"}]}
{"id":"moon_rodio-e1s.4","title":"Port MP3 decoder from minimp3_fixed","description":"Port minimal MP3 frame decode path from mp3-reference into username/moon_rodio/decoder.","notes":"Started native MP3 decoder integration based on minimp3_fixed reference. Introduce minimp3 C core as decoder backend.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-13T22:22:00.115814+08:00","created_by":"Milky2018","updated_at":"2026-02-13T22:28:46.922111+08:00","closed_at":"2026-02-13T22:28:46.922111+08:00","close_reason":"Implemented native MP3 decoder using minimp3 backend; added tests with ILL2_mono vector.","dependencies":[{"issue_id":"moon_rodio-e1s.4","depends_on_id":"moon_rodio-e1s","type":"parent-child","created_at":"2026-02-13T22:22:00.117212+08:00","created_by":"Milky2018"}]}
{"id":"moon_rodio-e1s.5","title":"Port FLAC decoder from claxon","description":"Port FLAC stream reader slice from flac-reference into username/moon_rodio/decoder.","notes":"Started FLAC decoder migration analysis from claxon reference.\nBlocking for backend decision: claxon is a full pure-Rust FLAC decoder (~3.6k LOC across bitreader/frame/subframe/CRC). Recommend introducing a dedicated FLAC decode backend (community MoonBit package or vetted native library).\nUser approved native backend for FLAC/Vorbis; proceed with FFI-based implementation.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-13T22:22:00.2311+08:00","created_by":"Milky2018","updated_at":"2026-02-13T23:54:17.87654+08:00","closed_at":"2026-02-13T23:54:17.87654+08:00","close_reason":"Implemented FLAC decode via native FFI using dr_flac; added decoder tests and non-native stub.","dependencies":[{"issue_id":"moon_rodio-e1s.5","depends_on_id":"moon_rodio-e1s","type":"parent-child","created_at":"2026-02-13T22:22:00.23204+08:00","created_by":"Milky2018"}]}
{"id":"moon_rodio-e1s.6","title":"Port Vorbis decoder from lewton","description":"Port Ogg/Vorbis decode slice from vorbis-reference into username/moon_rodio/decoder.","notes":"Start Vorbis implementation together with FLAC via native FFI backend.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-13T22:22:00.348272+08:00","created_by":"Milky2018","updated_at":"2026-02-13T23:54:17.892847+08:00","closed_at":"2026-02-13T23:54:17.892847+08:00","close_reason":"Implemented Vorbis decode via native FFI using stb_vorbis; added decoder tests and non-native stub.","dependencies":[{"issue_id":"moon_rodio-e1s.6","depends_on_id":"moon_rodio-e1s","type":"parent-child","created_at":"2026-02-13T22:22:00.349409+08:00","created_by":"Milky2018"}]}
{"id":"moon_rodio-e1s.7","title":"Port root Decoder/play API and wire decoder package","description":"Expose Decoder/Play APIs in username/moon_rodio using native decoder package and Source integration.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-14T10:28:12.392303+08:00","created_by":"Milky2018","updated_at":"2026-02-14T10:32:36.100325+08:00","closed_at":"2026-02-14T10:32:36.100325+08:00","close_reason":"Implemented root Decoder/play API with native decoder integration and added coverage tests.","dependencies":[{"issue_id":"moon_rodio-e1s.7","depends_on_id":"moon_rodio-e1s","type":"parent-child","created_at":"2026-02-14T10:28:12.393544+08:00","created_by":"Milky2018"}]}
{"id":"moon_rodio-eq9","title":"Align source effects APIs with rodio semantics","description":"Complete source-effect parity for limit/distortion/reverb: rodio-style limit settings entrypoint, distortion(gain, threshold) primary API, and streaming reverb implementation without implicit full buffering.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-16T19:50:48.12199+08:00","created_by":"Milky2018","updated_at":"2026-02-16T19:50:55.972848+08:00","closed_at":"2026-02-16T19:50:55.972848+08:00","close_reason":"source effects API semantics aligned with rodio-compatible behavior","labels":["effects","parity","source"],"comments":[{"id":70,"issue_id":"moon_rodio-eq9","author":"Milky2018","text":"Implemented parity alignment:\n1) source_effects_ext::limit now takes LimitSettings and returns DynSource from Limit::new.\n2) Added source_effects_ext::limit_range as compatibility clamp alias for range-based clipping.\n3) source_effects_ext::distortion now uses rodio-style signature (gain, threshold); kept distortion_with_gain alias and added distortion_threshold convenience alias.\n4) source_named_wrappers::Distortion::new now takes (gain, threshold); added new_with_threshold alias and kept with_gain delegating to new.\n5) source_effects_ext::reverb replaced buffered-copy implementation with streaming delay-line mix (no up-front full decode), with total_duration forwarding and seek-state rebuild logic.\n6) Updated/extended source_ext_test coverage for new limit/distortion APIs and reverb laziness behavior.\nValidation passed: moon fmt \u0026\u0026 moon info \u0026\u0026 moon test --target native (149 passed).","created_at":"2026-02-16T11:50:55Z"}]}
{"id":"moon_rodio-ere","title":"Validate moon_cpal 0.11.2 upgrade and re-check async compatibility on native target","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-17T15:31:43.730099+08:00","updated_at":"2026-02-17T15:33:41.61274+08:00","closed_at":"2026-02-17T15:33:41.61274+08:00","close_reason":"Upgraded to moon_cpal 0.11.2 and verified async Windows toolchain conflict still exists","comments":[{"id":76,"issue_id":"moon_rodio-ere","author":"Milky2018","text":"Upgraded dependency to Milky2018/moon_cpal@0.11.2 and revalidated project (moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native: 149 passed). Async compatibility check outcome: async on Windows still requires MSVC (moonbitlang/async/src/internal/event_loop/thread_pool.c contains #error 'Currently only MSVC is supported on Windows'), while moon_cpal@0.11.2 package still unconditionally includes \u003cstrings.h\u003e in alsa/alsa_stub.c, which is not available under MSVC. Therefore switching back to moonbitlang/async/fs would reintroduce Windows toolchain conflict; keeping moonbitlang/x/fs is currently safer.","created_at":"2026-02-17T07:33:37Z"}]}
{"id":"moon_rodio-h3v","title":"Rename module path to Milky2018/moon_rodio","description":"Replace all username/moon_rodio references with Milky2018/moon_rodio and verify build/tests.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-14T10:52:01.791982+08:00","created_by":"Milky2018","updated_at":"2026-02-14T10:52:31.374638+08:00","closed_at":"2026-02-14T10:52:31.374638+08:00","close_reason":"Replaced module path references with Milky2018/moon_rodio and verified native tests."}
{"id":"moon_rodio-h4m","title":"Complete RL seek channel-order parity for MP3/Ogg","description":"Current reference channel-order seek test covers RL.wav/RL.flac. Extend to RL.mp3/RL.ogg and align decoder seek behavior if mismatches remain.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-18T14:29:51.468077+08:00","created_by":"Milky2018","updated_at":"2026-02-18T14:32:28.970689+08:00","closed_at":"2026-02-18T14:32:28.970689+08:00","close_reason":"Completed: RL channel-order seek parity now covers WAV/FLAC/MP3/Ogg","labels":["decoder","parity","seek"]}
{"id":"moon_rodio-hdj","title":"Fix Windows native CI breakage caused by moon_cpal 0.11.1 MSVC build and async dependency coupling","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-17T13:03:12.570695+08:00","updated_at":"2026-02-17T13:03:25.599589+08:00","closed_at":"2026-02-17T13:03:25.599589+08:00","close_reason":"Closed"}
{"id":"moon_rodio-hqf","title":"Align fade_out semantics with rodio linear ramp behavior","description":"Replace tail-fade buffered implementation with rodio-style linear_gain_ramp(1-\u003e0, clamp_end=true) behavior and add regression tests for early-fade + clamped tail.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-16T16:06:17.220243+08:00","created_by":"Milky2018","updated_at":"2026-02-16T16:07:23.484125+08:00","closed_at":"2026-02-16T16:07:23.484125+08:00","close_reason":"fade_out semantics aligned with rodio linear ramp behavior","labels":["effects","parity","source"],"comments":[{"id":69,"issue_id":"moon_rodio-hqf","author":"Milky2018","text":"Completed parity tightening for fade_out: replaced previous buffered tail-fade implementation with rodio-style forward linear ramp behavior (1.0 -\u003e 0.0, clamp_end=true) by delegating to linear_gain_ramp. Updated regression expectation in source_ext_test (4 samples @1Hz over 2s now [1.0, 0.5, 0.0, 0.0]). Validation passed: moon fmt \u0026\u0026 moon info \u0026\u0026 moon test --target native (149 passed).","created_at":"2026-02-16T08:07:23Z"}]}
{"id":"moon_rodio-hzb","title":"Add play(reader) compatibility entrypoint","description":"Provide a reader/file style play API in addition to bytes-based play.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-18T11:22:37.244782+08:00","created_by":"Milky2018","updated_at":"2026-02-18T11:34:52.270588+08:00","closed_at":"2026-02-18T11:34:52.270588+08:00","close_reason":"Closed"}
{"id":"moon_rodio-i6d","title":"Remove unused moonbitlang/async import warning","description":"Drop unused root package import and test placeholder call so moon info no longer reports unused_package for moonbitlang/async in moon.pkg.","status":"closed","priority":3,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-16T15:45:49.062609+08:00","created_by":"Milky2018","updated_at":"2026-02-16T15:47:01.095502+08:00","closed_at":"2026-02-16T15:47:01.095502+08:00","close_reason":"unused_package warning removed while preserving async test support","labels":["cleanup","warning"],"comments":[{"id":67,"issue_id":"moon_rodio-i6d","author":"Milky2018","text":"Resolved the warning without breaking async tests: kept moonbitlang/async import (required by async test syntax), removed the redundant test-time @async.now placeholder, and added a minimal internal async symbol reference in moon_rodio.mbt to avoid unused_package diagnostics. Validation passed: moon fmt \u0026\u0026 moon info \u0026\u0026 moon test --target native (149 passed).","created_at":"2026-02-16T07:47:00Z"},{"id":68,"issue_id":"moon_rodio-i6d","author":"Milky2018","text":"Final cleanup adjustment: moved moonbitlang/async to test-only import in moon.pkg (import {...} for \"test\"), removed the temporary async symbol hack from moon_rodio.mbt. This keeps async test compilation valid while avoiding unused_package warnings in normal package scope. Revalidated with moon fmt \u0026\u0026 moon info \u0026\u0026 moon test --target native (149 passed).","created_at":"2026-02-16T07:51:41Z"}]}
{"id":"moon_rodio-i9h","title":"Validate FFmpeg MP4A backend on Linux/Windows CI","description":"The new non-Apple MP4A backend is implemented behind optional FFmpeg detection (pkg-config or env overrides). Add CI matrix jobs (Linux/Windows) with FFmpeg dev packages installed, run mp4a decode tests, and document setup variables MOON_RODIO_FFMPEG_CFLAGS/MOON_RODIO_FFMPEG_LIBS for manual builds.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-16T12:50:17.369153+08:00","created_by":"Milky2018","updated_at":"2026-02-16T12:55:04.97828+08:00","closed_at":"2026-02-16T12:55:04.97828+08:00","close_reason":"CI matrix and docs added for Linux/Windows FFmpeg MP4A validation","labels":["ci","decoder","mp4a","native"],"comments":[{"id":64,"issue_id":"moon_rodio-i9h","author":"Milky2018","text":"Implemented CI validation and docs for optional FFmpeg MP4A backend: added .github/workflows/ci-native.yml with ubuntu+windows native jobs, installs FFmpeg dev dependencies (apt/vcpkg), verifies build.js enables MOON_RODIO_ENABLE_FFMPEG=1, and runs moon test --target native. Added README.mbt.md section documenting MOON_RODIO_FFMPEG_CFLAGS / MOON_RODIO_FFMPEG_LIBS manual overrides.","created_at":"2026-02-16T04:55:04Z"}]}
{"id":"moon_rodio-ik9","title":"Align microphone/speakers naming aliases and wav whole-frame behavior","description":"Add microphone/speakers compatibility naming aliases and marker state types (Error/ListError/OpenError + DeviceIsSet/DeviceNotSet/ConfigIsSet/ConfigNotSet) and align wav output behavior to emit only whole frames (drop trailing partial frame), with tests.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-23T20:45:11.757859+08:00","created_by":"Milky2018","updated_at":"2026-02-23T21:05:45.996566+08:00","closed_at":"2026-02-23T21:05:45.996566+08:00","close_reason":"Completed parity updates; documented MoonBit reserved Error-name limitation","comments":[{"id":90,"issue_id":"moon_rodio-ik9","author":"Milky2018","text":"Implemented wav whole-frame write behavior + test, and added microphone/speakers compatibility subpackages with ListError/OpenError/PlayError aliases plus state marker types. Exact  alias cannot be provided in MoonBit because  is a reserved type name.","created_at":"2026-02-23T13:05:45Z"},{"id":91,"issue_id":"moon_rodio-ik9","author":"Milky2018","text":"Correction: exact alias name Error cannot be provided in MoonBit because Error is a reserved type name.","created_at":"2026-02-23T13:06:03Z"}]}
{"id":"moon_rodio-iyo","title":"Use pinned prebuilt FFmpeg with strict verification in Windows CI","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-17T19:28:14.029118+08:00","created_by":"Milky2018","updated_at":"2026-02-17T19:29:29.791502+08:00","closed_at":"2026-02-17T19:29:29.791502+08:00","close_reason":"Implemented pinned prebuilt FFmpeg download with checksum and strict validation in Windows CI.","comments":[{"id":86,"issue_id":"moon_rodio-iyo","author":"Milky2018","text":"Replaced Windows CI FFmpeg provisioning from vcpkg source build to pinned prebuilt release download with SHA256 verification and required file checks; updated README notes accordingly.","created_at":"2026-02-17T11:29:17Z"}]}
{"id":"moon_rodio-jhn","title":"Add native MP4A/AAC decoder support for rodio parity","description":"rodio-reference includes tests for mp4a/aac decoding (tests/mp4a_test.rs), but moon_rodio currently has no native MP4A decoder path in decoder_bridge/decoder package. Implement native backend support (port or FFI) and wire Decoder::new/DecoderBuilder auto-detection for m4a/mp4a so parity can be completed. This likely requires introducing an additional AAC/MP4 demux+decode dependency.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-16T10:21:02.095675+08:00","created_by":"Milky2018","updated_at":"2026-02-16T10:58:46.297643+08:00","closed_at":"2026-02-16T10:58:46.297643+08:00","close_reason":"Implemented native MP4A decode support (Apple AudioToolbox backend) and integrated decoder bridge/test coverage","labels":["decoder","native","parity"],"comments":[{"id":57,"issue_id":"moon_rodio-jhn","author":"Milky2018","text":"Implemented native MP4A decode path using moonbit-c-binding style FFI in decoder package: added mp4a_native.c (AudioToolbox ExtAudioFile decode from in-memory bytes) + mp4a_decoder_native.mbt wrapper + decoder_bridge integration for hint/mime/signature/new_mp4a/new auto-detection. Added native regression test on rodio-reference/assets/monkeys.mp4a with builder paths. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (146 passed).","created_at":"2026-02-16T02:58:42Z"}]}
{"id":"moon_rodio-jti","title":"Parity: port queue append metadata and mid-frame padding behavior","description":"Port rodio-reference queue tests append_updates_metadata and span_ending_mid_frame; align queue runtime behavior with frame-boundary silence padding and metadata updates across source boundaries.","acceptance_criteria":"- queue tests append_updates_metadata and span_ending_mid_frame added\n- queue implementation pads silence when source ends mid-frame\n- existing queue/sink/spatial/decoder tests remain green","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-23T17:48:19.204601+08:00","created_by":"Milky2018","updated_at":"2026-02-23T17:48:25.264963+08:00","closed_at":"2026-02-23T17:48:25.264963+08:00","close_reason":"Completed: queue behavior now pads mid-frame endings and includes parity tests for metadata update + span alignment"}
{"id":"moon_rodio-jv8","title":"Align OutputStream sample-format coverage with rodio stream","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-16T20:01:26.786768+08:00","created_by":"Milky2018","updated_at":"2026-02-16T20:35:24.451282+08:00","closed_at":"2026-02-16T20:35:24.451282+08:00","close_reason":"Closed","comments":[{"id":72,"issue_id":"moon_rodio-jv8","author":"Milky2018","text":"Blocked by moon_cpal API shape: build_output_stream_raw callback uses spec.Data, which only exposes write_f32/write_i16/write_u16/write_u8 (no write_i8/i24/i32/f64 etc). Without moon_cpal exposing broader write_* methods (or a raw bytes write API) we cannot align rodio extended sample-format output support without workaround.","created_at":"2026-02-16T12:07:53Z"},{"id":73,"issue_id":"moon_rodio-jv8","author":"Milky2018","text":"Upstream issue filed to moonbit-community/moon_cpal: https://github.com/moonbit-community/moon_cpal/issues/2","created_at":"2026-02-16T12:15:49Z"},{"id":74,"issue_id":"moon_rodio-jv8","author":"Milky2018","text":"Unblocked after upgrading to moon_cpal 0.11.1. Stream output now supports additional sample formats via raw callback writing (I8/I24/I32/I64/U24/U32/U64/F64) and config validation was aligned with rodio behavior.","created_at":"2026-02-16T12:35:24Z"}]}
{"id":"moon_rodio-l0n","title":"Align DecoderError naming with rodio UnrecognizedFormat","description":"Rename DecoderError::UnknownFormat to DecoderError::UnrecognizedFormat and update tests.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-16T20:07:31.744331+08:00","created_by":"Milky2018","updated_at":"2026-02-16T20:07:44.305257+08:00","closed_at":"2026-02-16T20:07:44.305257+08:00","close_reason":"Closed","comments":[{"id":71,"issue_id":"moon_rodio-l0n","author":"Milky2018","text":"Completed: DecoderError variant renamed to UnrecognizedFormat across decoder builder/new/file paths; decoder API tests updated and all native tests pass.","created_at":"2026-02-16T12:07:44Z"}]}
{"id":"moon_rodio-lmw","title":"Switch Windows CI lane back to MSVC now that moon_cpal 0.11.3 removed strings.h blocker","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-17T16:15:43.867727+08:00","updated_at":"2026-02-17T16:16:25.11801+08:00","closed_at":"2026-02-17T16:16:25.11801+08:00","close_reason":"Windows CI switched to MSVC","comments":[{"id":78,"issue_id":"moon_rodio-lmw","author":"Milky2018","text":"Switched Windows Native CI lane from mingw back to MSVC: workflow now installs ffmpeg:x64-windows, runs ilammy/msvc-dev-cmd, and sets CC/CXX/AR to cl/cl/lib for moon test. README Windows notes updated accordingly. Local validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (149 passed).","created_at":"2026-02-17T08:16:24Z"}]}
{"id":"moon_rodio-mdr","title":"Align duration filters metadata/seek semantics","description":"Bring take_duration, skip_duration, and delay metadata/seek behavior closer to rodio and add coverage tests.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-14T20:00:56.773142+08:00","created_by":"Milky2018","updated_at":"2026-02-14T20:01:01.432928+08:00","closed_at":"2026-02-14T20:01:01.432928+08:00","close_reason":"done","comments":[{"id":17,"issue_id":"moon_rodio-mdr","author":"Milky2018","text":"Implemented: precise duration helpers (compare/min/add/saturating_sub), take_duration metadata+seek state tracking, skip_duration total_duration saturation, delay metadata+seek compensation for pre-delay and post-delay regions; added regression tests for these behaviors.","created_at":"2026-02-14T12:01:01Z"}]}
{"id":"moon_rodio-nq1","title":"Add extra parity tests for limiter and MP4A decoder behavior","description":"Port additional rodio-reference behavior checks: limiter passthrough/stereo characteristics and MP4A decode total_duration + seek sanity on supported backends.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-16T12:58:01.532907+08:00","created_by":"Milky2018","updated_at":"2026-02-16T12:59:28.620631+08:00","closed_at":"2026-02-16T12:59:28.620631+08:00","close_reason":"Additional limiter/MP4A parity tests added and validated","labels":["decoder","parity","source","test"],"comments":[{"id":66,"issue_id":"moon_rodio-nq1","author":"Milky2018","text":"Implemented extra parity tests: (1) source limiter passthrough-below-threshold behavior and stereo-processing peak constraints in source_ext_test; (2) MP4A supported-path decoder assertions now also validate non-zero total_duration and seek-to-start replay in decoder_bridge_test. Validation passed with moon fmt \u0026\u0026 moon info \u0026\u0026 moon test --target native (149 passed).","created_at":"2026-02-16T04:59:28Z"}]}
{"id":"moon_rodio-oc5","title":"Add mixer/queue/stream compatibility subpackages","description":"Add compatibility subpackages for mixer, queue, and stream module paths with alias-forwarded APIs and blackbox tests.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-23T21:45:14.157564+08:00","created_by":"Milky2018","updated_at":"2026-02-23T21:48:11.038404+08:00","closed_at":"2026-02-23T21:48:11.038404+08:00","close_reason":"Completed mixer/queue/stream compatibility subpackages and tests","comments":[{"id":94,"issue_id":"moon_rodio-oc5","author":"Milky2018","text":"Added compatibility subpackages for mixer, queue, and stream module paths, with alias-forwarded APIs and non-device blackbox tests. Validated with full native test suite.","created_at":"2026-02-23T13:48:11Z"}]}
{"id":"moon_rodio-okj","title":"Upgrade moon_cpal to 0.10.12 and restore sub-second duration parity","description":"Bump dependency to moon_cpal 0.10.12, adopt new Duration constructors, and implement nanos-level parity where previously blocked.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-14T19:56:06.735194+08:00","created_by":"Milky2018","updated_at":"2026-02-14T19:58:48.973667+08:00","closed_at":"2026-02-14T19:58:48.973667+08:00","close_reason":"done","comments":[{"id":16,"issue_id":"moon_rodio-okj","author":"Milky2018","text":"Completed with moon_cpal 0.10.12: upgraded dependency, switched to Duration::new for sub-second construction, restored nanos precision in duration_from_sample_count and TrackPosition::get_pos, and added sub-second parity tests for SamplesBuffer, TrackPosition, and Sink::get_pos. Also fixed integer overflow in nanos math by moving sample-duration arithmetic to UInt64.","created_at":"2026-02-14T11:58:48Z"}]}
{"id":"moon_rodio-q1k","title":"Implement microphone module parity slice","description":"Add microphone input builder/device listing/source APIs with native backend.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-18T11:22:37.33847+08:00","created_by":"Milky2018","updated_at":"2026-02-18T11:34:52.285992+08:00","closed_at":"2026-02-18T11:34:52.285992+08:00","close_reason":"Closed"}
{"id":"moon_rodio-rgi","title":"Add wav_to_file / wav_to_writer compatibility APIs","description":"Expose rodio-compatible wav output API names on top of current wav output implementation.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-18T11:22:37.133809+08:00","created_by":"Milky2018","updated_at":"2026-02-18T11:34:52.253605+08:00","closed_at":"2026-02-18T11:34:52.253605+08:00","close_reason":"Closed"}
{"id":"moon_rodio-s5r","title":"Investigate decoder seek channel-order parity on RL reference assets","description":"Porting RL channel-order seek test from rodio currently fails against moon_rodio decoder seek semantics; investigate whether decoder seek should preserve channel offset or reset alignment, then align behavior/tests accordingly.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-18T12:42:31.727014+08:00","created_by":"Milky2018","updated_at":"2026-02-18T13:09:51.08008+08:00","closed_at":"2026-02-18T13:09:51.08008+08:00","close_reason":"Completed: decoder seek now preserves channel offset; RL asset channel-order tests passing","labels":["decoder","parity","seek"]}
{"id":"moon_rodio-svt","title":"Fix remaining Native CI failures after MSVC link-flag migration","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-17T16:29:59.211495+08:00","updated_at":"2026-02-17T16:36:51.666942+08:00","closed_at":"2026-02-17T16:36:51.666942+08:00","close_reason":"Added Windows FFmpeg optional fallback and stabilized Native CI","comments":[{"id":81,"issue_id":"moon_rodio-svt","author":"Milky2018","text":"Hardened Native CI against flaky Windows vcpkg ffmpeg builds: changed Windows FFmpeg install step to optional (continue-on-error) with id ffmpeg; FFmpeg prebuild verification now runs only when install succeeds; added explicit fallback step when FFmpeg install fails so Windows still executes native tests with MSVC. Linux FFmpeg lane remains strict validation path. Updated README accordingly. Local validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (149 passed).","created_at":"2026-02-17T08:36:42Z"},{"id":82,"issue_id":"moon_rodio-svt","author":"Milky2018","text":"Added step timeout guard: Windows optional FFmpeg install now has timeout-minutes: 8. Combined with continue-on-error fallback, this prevents long vcpkg stalls from blocking CI completion.","created_at":"2026-02-17T08:39:12Z"}]}
{"id":"moon_rodio-u6q","title":"Add SpatialPlayer compatibility type","description":"Port naming-compatible SpatialPlayer wrapper over current SpatialSink/Player primitives.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-18T11:22:37.039639+08:00","created_by":"Milky2018","updated_at":"2026-02-18T11:34:52.238456+08:00","closed_at":"2026-02-18T11:34:52.238456+08:00","close_reason":"Closed"}
{"id":"moon_rodio-v0i","title":"Parity: port dither high-pass multichannel independence test","description":"Add upstream dither regression test ensuring HighPass dithering keeps per-channel independence in interleaved stereo stream.","acceptance_criteria":"- Add rodio::source::dither::high_pass_multichannel_independence test\n- Validate negative lag-1 autocorrelation per channel and low cross-correlation\n- moon test --target native passes","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-23T18:12:29.621975+08:00","created_by":"Milky2018","updated_at":"2026-02-23T18:15:37.977825+08:00","closed_at":"2026-02-23T18:15:37.977825+08:00","close_reason":"Completed: ported high-pass multichannel dither independence test and aligned RNG behavior"}
{"id":"moon_rodio-vit","title":"Audit sink skip pipeline against rodio to_clear semantics","description":"Follow up parity work: sink skip requests are currently collapsed to a single pending flag in moon_rodio. Upstream rodio uses a to_clear counter processed in periodic callback; audit and align behavior for multiple rapid skip_one/clear interactions and len() updates across prefetch boundaries.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-15T19:18:22.394475+08:00","created_by":"Milky2018","updated_at":"2026-02-15T22:49:58.858087+08:00","closed_at":"2026-02-15T22:49:58.858087+08:00","close_reason":"Closed"}
{"id":"moon_rodio-vow","title":"Add dither API slice and Player/DeviceSinkBuilder compatibility naming layer","description":"Implement rodio-style Dither/BitDepth APIs and add Player, DeviceSinkBuilder, MixerDeviceSink naming-compatible wrappers over existing Sink/OutputStream stack, with tests.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-18T11:07:34.645922+08:00","created_by":"Milky2018","updated_at":"2026-02-18T11:10:55.808303+08:00","closed_at":"2026-02-18T11:10:55.808303+08:00","close_reason":"Dither + Player/DeviceSinkBuilder compatibility slices implemented and validated.","comments":[{"id":88,"issue_id":"moon_rodio-vow","author":"Milky2018","text":"Implemented dither API slice (BitDepth, DitherAlgorithm, Dither source wrapper) and naming-compatible wrappers (Player, DeviceSinkBuilder, MixerDeviceSink) with blackbox tests; native suite now 163/163 passing.","created_at":"2026-02-18T03:10:55Z"}]}
{"id":"moon_rodio-w46","title":"Add buffer/fixed_source/static_buffer/math/conversions compatibility subpackages","description":"Add compatibility subpackages that mirror rodio module paths for buffer, fixed_source, static_buffer, math, and conversions; include blackbox tests for alias wiring and basic behavior.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-23T21:40:48.987944+08:00","created_by":"Milky2018","updated_at":"2026-02-23T21:44:06.211227+08:00","closed_at":"2026-02-23T21:44:06.211227+08:00","close_reason":"Completed compatibility subpackages for buffer/fixed_source/static_buffer/math/conversions","comments":[{"id":93,"issue_id":"moon_rodio-w46","author":"Milky2018","text":"Added compatibility subpackages and tests for rodio module paths: buffer, fixed_source, static_buffer, math, conversions. All modules expose alias-forwarded APIs over root package functionality and pass full native test suite.","created_at":"2026-02-23T13:44:06Z"}]}
{"id":"moon_rodio-w4i","title":"Verify moon_cpal 0.11.3 fixes Windows toolchain conflict (strings.h/MSVC)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-17T16:12:00.545032+08:00","updated_at":"2026-02-17T16:13:14.398886+08:00","closed_at":"2026-02-17T16:13:14.398886+08:00","close_reason":"Confirmed 0.11.3 removes strings.h blocker and dependency upgraded","comments":[{"id":77,"issue_id":"moon_rodio-w4i","author":"Milky2018","text":"Verified against published package Milky2018/moon_cpal@0.11.3: alsa/alsa_stub.c no longer includes \u003cstrings.h\u003e; local search of moon_cpal C sources shows no strings.h/strcasecmp usage. Upgraded moon_rodio dependency to 0.11.3 and ran moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (149 passed).","created_at":"2026-02-17T08:13:14Z"}]}
{"id":"moon_rodio-x83","title":"Add IDEA Apache-2.0 copyright header to all tracked .mbt source files","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-17T16:20:05.939232+08:00","updated_at":"2026-02-17T16:20:34.680883+08:00","closed_at":"2026-02-17T16:20:34.680883+08:00","close_reason":"All .mbt files now include required license header","comments":[{"id":79,"issue_id":"moon_rodio-x83","author":"Milky2018","text":"Added Apache-2.0 copyright header block to all tracked .mbt source files (46 files), with idempotent insertion logic to avoid duplicates. Validation passed: moon info \u0026\u0026 moon fmt \u0026\u0026 moon test --target native (149 passed).","created_at":"2026-02-17T08:20:34Z"}]}
{"id":"moon_rodio-y39","title":"Add microphone/speakers builder+config subpackage compatibility paths","description":"Add builder/config compatibility modules under microphone and speakers subpackages to mirror reference module paths and reduce migration friction.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-23T21:32:17.502684+08:00","created_by":"Milky2018","updated_at":"2026-02-23T21:35:42.893074+08:00","closed_at":"2026-02-23T21:35:42.893074+08:00","close_reason":"Completed builder/config path compatibility subpackages and tests","comments":[{"id":92,"issue_id":"moon_rodio-y39","author":"Milky2018","text":"Added compatibility subpackages for microphone/speakers builder and config paths: microphone/builder, microphone/config, speakers/builder, speakers/config. Implemented alias-forwarded types/functions and blackbox tests to validate compile-time and behavior-level wiring without requiring physical devices.","created_at":"2026-02-23T13:35:42Z"}]}
{"id":"moon_rodio-yz6","title":"Harden Windows GUID shim with explicit WASAPI IID/CLSID constants","description":"INITGUID-based shim did not export required symbols in CI; define IID/CLSID constants explicitly for MSVC linker stability.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-18T13:20:40.174055+08:00","created_by":"Milky2018","updated_at":"2026-02-18T13:20:47.841466+08:00","closed_at":"2026-02-18T13:20:47.841466+08:00","close_reason":"Completed: switched to explicit IID/CLSID definitions in windows GUID shim","labels":["ci","linker","windows"]}
{"id":"moon_rodio-z9f","title":"Commit and publish metadata update","description":"User updated moon.mod.json metadata; commit changes, push, and publish module.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-18T15:52:13.147539+08:00","created_by":"Milky2018","updated_at":"2026-02-18T15:52:48.752109+08:00","closed_at":"2026-02-18T15:52:48.752109+08:00","close_reason":"Completed: committed metadata update, pushed, and published successfully","labels":["metadata","release"]}
{"id":"moon_rodio-zps","title":"Add source compatibility subpackage exports","description":"Add Milky2018/moon_rodio/source compatibility package that re-exports major source types/functions from root module and includes blackbox tests.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-23T21:49:26.321579+08:00","created_by":"Milky2018","updated_at":"2026-02-23T21:53:12.480978+08:00","closed_at":"2026-02-23T21:53:12.480978+08:00","close_reason":"Completed source compatibility package exports and tests","comments":[{"id":95,"issue_id":"moon_rodio-zps","author":"Milky2018","text":"Added Milky2018/moon_rodio/source compatibility package with broad type re-exports and forwarding functions (chirp/from_factory/from_iter), plus blackbox coverage for alias wiring and core behavior.","created_at":"2026-02-23T13:53:08Z"}]}
{"id":"moon_rodio-zzd","title":"Investigate top-level Float export parity","description":"rodio lib re-exports Float, but moon_rodio currently does not. Direct alias attempts ( / ) are undefined in MoonBit. Need a stable MoonBit-side API mapping strategy that does not break existing Float::from_double/reinterpret use sites.","status":"closed","priority":3,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-23T19:31:13.843213+08:00","created_by":"Milky2018","updated_at":"2026-02-23T20:30:11.945552+08:00","closed_at":"2026-02-23T20:30:11.945552+08:00","close_reason":"Accepted difference: Float is builtin in MoonBit and does not require module re-export parity","comments":[{"id":89,"issue_id":"moon_rodio-zzd","author":"Milky2018","text":"Investigated MoonBit-side Float export parity.\nAttempts `pub type Float = @core.Float`, `@moon_cpal.Float`, `@float.Float`, `@builtin.Float`, and `pub using @float/@builtin { type Float }` all fail with undefined type in package context.\nDirect aliasing `Float = Double` breaks existing `Float::from_double` and `reinterpret_from_uint` call sites by shadowing builtin Float methods.\nKeeping this issue open as language/import-model limitation pending a robust export strategy.\n","created_at":"2026-02-23T12:12:14Z"}]}
