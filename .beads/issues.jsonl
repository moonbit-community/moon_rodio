{"id":"moon_rodio-51c","title":"Implement source generator/filter slice","description":"Add source-side generators and basic combinators toward rodio source module parity.","notes":"Closed remaining source exported names gap by adding AutomaticGainControl, BltFilter (low/high-pass), WhiteUniform, and Pink implementations with tests.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-14T10:54:02.401903+08:00","created_by":"Milky2018","updated_at":"2026-02-14T16:29:55.378753+08:00","closed_at":"2026-02-14T16:29:55.378753+08:00","close_reason":"Completed source generator/filter and exported source type parity with tests."}
{"id":"moon_rodio-75j","title":"Add Decoder file/reader-style input parity APIs","description":"Add non-lifecycle parity APIs for path/file-like decoder construction in MoonBit (native-focused) and tests.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-14T17:51:37.996088+08:00","created_by":"Milky2018","updated_at":"2026-02-14T18:00:39.113482+08:00","closed_at":"2026-02-14T18:00:39.113482+08:00","close_reason":"Closed","comments":[{"id":10,"issue_id":"moon_rodio-75j","author":"Milky2018","text":"Added native-oriented file input parity APIs for decoder: async Decoder::try_from_file(path) and Decoder::try_from_file_looped(path), implemented via moonbitlang/async/fs read_file(). Added native async test that writes WAV fixture, decodes from path, and validates looped behavior. Validation: moon test --target native (96/96).","created_at":"2026-02-14T10:00:39Z"}]}
{"id":"moon_rodio-9ev","title":"Fill remaining non-lifecycle parity gaps with rodio-reference","description":"Complete remaining non-lifecycle differences: Source metadata/seek contract, decoder builder settings behavior, and reader/file input parity API for Decoder while keeping native backend.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-14T17:51:26.359797+08:00","created_by":"Milky2018","updated_at":"2026-02-14T18:00:45.675527+08:00","closed_at":"2026-02-14T18:00:45.675527+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_rodio-9ev","depends_on_id":"moon_rodio-9tn","type":"blocks","created_at":"2026-02-14T17:51:52.374201+08:00","created_by":"Milky2018"},{"issue_id":"moon_rodio-9ev","depends_on_id":"moon_rodio-b6o","type":"blocks","created_at":"2026-02-14T17:51:52.471977+08:00","created_by":"Milky2018"},{"issue_id":"moon_rodio-9ev","depends_on_id":"moon_rodio-75j","type":"blocks","created_at":"2026-02-14T17:51:52.56622+08:00","created_by":"Milky2018"}],"comments":[{"id":11,"issue_id":"moon_rodio-9ev","author":"Milky2018","text":"Completed all tracked non-lifecycle parity gaps: Source metadata/seek contract, DecoderBuilder seek behavior, and Decoder file-input parity APIs; all validations passed on native target (moon fmt \u0026\u0026 moon info \u0026\u0026 moon test --target native, 96/96).","created_at":"2026-02-14T10:00:45Z"},{"id":12,"issue_id":"moon_rodio-9ev","author":"Milky2018","text":"Post-close parity hardening: DynSource now preserves Source metadata/seek via closures (instead of erasing to defaults), and named wrappers forward current_span_len/total_duration/try_seek through inner source. Added regression tests for to_dyn and wrapper seek forwarding. Validation: moon fmt \u0026\u0026 moon info \u0026\u0026 moon test --target native (98/98).","created_at":"2026-02-14T10:03:57Z"}]}
{"id":"moon_rodio-9tn","title":"Extend Source trait with span/duration/seek metadata","description":"Add current_span_len/total_duration/try_seek API and wire through core source types and tests.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-14T17:51:29.719345+08:00","created_by":"Milky2018","updated_at":"2026-02-14T18:00:28.362108+08:00","closed_at":"2026-02-14T18:00:28.362108+08:00","close_reason":"Closed","comments":[{"id":8,"issue_id":"moon_rodio-9tn","author":"Milky2018","text":"Implemented Source parity extension: trait now includes current_span_len/total_duration/try_seek; all Source impls across package updated. Added concrete metadata+seek behavior for SamplesBuffer, StaticSamplesBuffer, Chirp, Decoder and LoopedDecoder; default behavior returns None / SeekError::NotSupported for non-seekable wrappers. Added tests for metadata and default seek contract. Validation: moon fmt \u0026\u0026 moon info \u0026\u0026 moon test --target native (96/96).","created_at":"2026-02-14T10:00:28Z"}]}
{"id":"moon_rodio-b6o","title":"Implement effective DecoderBuilder seek settings and decoder seek behavior","description":"Use settings.with_seekable/with_byte_len to control decoder seek support and expose behavior through Source::try_seek where applicable.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-14T17:51:34.527285+08:00","created_by":"Milky2018","updated_at":"2026-02-14T18:00:33.853638+08:00","closed_at":"2026-02-14T18:00:33.853638+08:00","close_reason":"Closed","comments":[{"id":9,"issue_id":"moon_rodio-b6o","author":"Milky2018","text":"Implemented effective DecoderBuilder seek semantics: builder now applies settings.is_seekable to built Decoder/LoopedDecoder. Decoder/LoopedDecoder Source::try_seek now checks seekability and seeks via decoded sample cursor when enabled. Added decoder-side metadata methods for span/total_duration and tests covering seekable/non-seekable builder combinations (including with_byte_len + with_seekable(false)). Validation: moon test --target native (96/96).","created_at":"2026-02-14T10:00:33Z"}]}
{"id":"moon_rodio-cri","title":"Implement sink/stream semantic parity","description":"Close remaining semantic gaps versus rodio-reference in sink/stream lifecycle and control behavior.","notes":"Focus areas: sleep_until_end behavior, detach/drop semantics, seek behavior contract, and from_iter namespace/behavior gap.\nAdjusted naming conflict: source chain constructor is now from_iter(Array[DynSource]); buffer helper renamed to buffer_from_iter.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-14T16:31:29.028274+08:00","created_by":"Milky2018","updated_at":"2026-02-14T17:37:35.833174+08:00","closed_at":"2026-02-14T17:37:35.833174+08:00","close_reason":"Closed","comments":[{"id":1,"issue_id":"moon_rodio-cri","author":"Milky2018","text":"Implemented additional rodio parity slice: expanded noise generators (WhiteTriangular/WhiteGaussian/Velvet/Blue/Violet/Brownian), AGC control handles, reverb and distortion_with_gain APIs, periodic/repeat/fade aliases, wrapper inner accessors, and sink try_seek/get_pos semantic fixes. Validation: moon test --target native passed (77/77).","created_at":"2026-02-14T08:54:24Z"},{"id":2,"issue_id":"moon_rodio-cri","author":"Milky2018","text":"Follow-up parity additions: LimitSettings builder/preset API surface (with_threshold/with_knee_width/with_attack/with_release and dynamic_content/broadcast/mastering/gaming/live_performance), SignalGenerator::with_function alias, and accessor aliases tested. Revalidated native tests: 77/77.","created_at":"2026-02-14T08:55:58Z"},{"id":3,"issue_id":"moon_rodio-cri","author":"Milky2018","text":"Implemented queue end-signal support (append_with_signal + QueueSignal) and switched Sink::sleep_until_end to signal-based waiting instead of pure length spin. Added queue signal test; full native test suite now 78/78.","created_at":"2026-02-14T08:57:32Z"},{"id":4,"issue_id":"moon_rodio-cri","author":"Milky2018","text":"Remaining gap tracked: Rust Drop-driven detach/stop lifecycle cannot be mirrored 1:1 in MoonBit today; behavior currently exposed via explicit Sink controls instead of automatic destructor hooks.","created_at":"2026-02-14T08:58:46Z"},{"id":5,"issue_id":"moon_rodio-cri","author":"Milky2018","text":"Added more non-lifecycle parity: mutable wrapper APIs for Amplify/ChannelVolume/Distortion/Speed (setters + inner accessors), expanded wrapper accessor surface, added math module parity functions (lerp/db_to_linear/linear_to_db), and added conversion type wrappers (ChannelCountConverter/SampleRateConverter/SampleTypeConverter) with tests. Native tests now 86/86.","created_at":"2026-02-14T09:22:50Z"},{"id":6,"issue_id":"moon_rodio-cri","author":"Milky2018","text":"Added finite-silence parity APIs: zero_samples(...) and Zero::new_samples(...), with tests for raw source and named wrappers. Native test suite remains green (86/86).","created_at":"2026-02-14T09:25:05Z"},{"id":7,"issue_id":"moon_rodio-cri","author":"Milky2018","text":"Added non-lifecycle parity slice: Decoder::builder(), DecoderBuilder (with_data/with_hint/with_mime_type/with_seekable/with_gapless/with_coarse_seek/with_byte_len), Settings::default(), Decoder::new_looped(), and LoopedDecoder Source implementation. Also generalized from_iter to Array[S : Source] (still supports DynSource) and added async-fs native output_to_wav with header validation test. Validation: moon fmt \u0026\u0026 moon info \u0026\u0026 moon test --target native (91/91). Remaining known warning: moonbitlang/async import appears unused in moon info but is required for async test compilation.","created_at":"2026-02-14T09:36:11Z"}]}
{"id":"moon_rodio-e1s","title":"Rodio migration phase 2","description":"Fix moon_cpal link flags for tests; import decoder references; add rodio decoder subpackages and first parser/tests.","notes":"Decoder backends now: MP3=minimp3, FLAC=dr_flac, Vorbis=stb_vorbis (all native FFI + non-native stubs).\nSwitch decoder package to native-only mode: remove non-native stubs; keep preferred-target native.","status":"closed","priority":1,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-02-13T22:09:56.808091+08:00","created_by":"Milky2018","updated_at":"2026-02-14T10:32:42.40154+08:00","closed_at":"2026-02-14T10:32:42.40154+08:00","close_reason":"All planned migration tasks completed: native-only decoder backends (WAV/MP3/FLAC/Vorbis), root Decoder/play API, and queue/sink parity tests enabled."}
{"id":"moon_rodio-e1s.1","title":"Add cross-platform cc-link-flags for moon_cpal test linking","description":"Add explicit native linker flags in this repo so moon test can link moon_cpal backend libs on macOS/Linux/Windows.","notes":"Added native cc-link-flags in moon.pkg and verified moon test passes on macOS with CoreAudio frameworks.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-13T22:13:31.492192+08:00","created_by":"Milky2018","updated_at":"2026-02-13T22:16:47.426885+08:00","closed_at":"2026-02-13T22:16:47.426885+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_rodio-e1s.1","depends_on_id":"moon_rodio-e1s","type":"parent-child","created_at":"2026-02-13T22:13:31.493237+08:00","created_by":"Milky2018"}]}
{"id":"moon_rodio-e1s.2","title":"Clone decoder reference repos","description":"Clone upstream rust decoder repos into *-reference dirs and ignore them in git.","notes":"Cloned mp3-reference(minimp3_fixed 0.5.4), wav-reference(hound 3.5.0), flac-reference(claxon 0.4.2), vorbis-reference(lewton 0.10.2) and added ignore rules.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-13T22:13:38.382757+08:00","created_by":"Milky2018","updated_at":"2026-02-13T22:16:47.427844+08:00","closed_at":"2026-02-13T22:16:47.427844+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_rodio-e1s.2","depends_on_id":"moon_rodio-e1s","type":"parent-child","created_at":"2026-02-13T22:13:38.383658+08:00","created_by":"Milky2018"}]}
{"id":"moon_rodio-e1s.3","title":"Create decoder subpackages and port first slice","description":"Add rodio decoder subpackages in MoonBit, port tests first, then implement first minimal decoder path.","notes":"Added subpackage username/moon_rodio/decoder with DecoderError/DecodedSamples, implemented decode_wav_bytes (PCM16), added stub APIs for mp3/flac/vorbis, and added 5 tests passing.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-13T22:13:45.347959+08:00","created_by":"Milky2018","updated_at":"2026-02-13T22:20:43.973736+08:00","closed_at":"2026-02-13T22:20:43.961459+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_rodio-e1s.3","depends_on_id":"moon_rodio-e1s","type":"parent-child","created_at":"2026-02-13T22:13:45.348989+08:00","created_by":"Milky2018"}]}
{"id":"moon_rodio-e1s.4","title":"Port MP3 decoder from minimp3_fixed","description":"Port minimal MP3 frame decode path from mp3-reference into username/moon_rodio/decoder.","notes":"Started native MP3 decoder integration based on minimp3_fixed reference. Introduce minimp3 C core as decoder backend.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-13T22:22:00.115814+08:00","created_by":"Milky2018","updated_at":"2026-02-13T22:28:46.922111+08:00","closed_at":"2026-02-13T22:28:46.922111+08:00","close_reason":"Implemented native MP3 decoder using minimp3 backend; added tests with ILL2_mono vector.","dependencies":[{"issue_id":"moon_rodio-e1s.4","depends_on_id":"moon_rodio-e1s","type":"parent-child","created_at":"2026-02-13T22:22:00.117212+08:00","created_by":"Milky2018"}]}
{"id":"moon_rodio-e1s.5","title":"Port FLAC decoder from claxon","description":"Port FLAC stream reader slice from flac-reference into username/moon_rodio/decoder.","notes":"Started FLAC decoder migration analysis from claxon reference.\nBlocking for backend decision: claxon is a full pure-Rust FLAC decoder (~3.6k LOC across bitreader/frame/subframe/CRC). Recommend introducing a dedicated FLAC decode backend (community MoonBit package or vetted native library).\nUser approved native backend for FLAC/Vorbis; proceed with FFI-based implementation.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-13T22:22:00.2311+08:00","created_by":"Milky2018","updated_at":"2026-02-13T23:54:17.87654+08:00","closed_at":"2026-02-13T23:54:17.87654+08:00","close_reason":"Implemented FLAC decode via native FFI using dr_flac; added decoder tests and non-native stub.","dependencies":[{"issue_id":"moon_rodio-e1s.5","depends_on_id":"moon_rodio-e1s","type":"parent-child","created_at":"2026-02-13T22:22:00.23204+08:00","created_by":"Milky2018"}]}
{"id":"moon_rodio-e1s.6","title":"Port Vorbis decoder from lewton","description":"Port Ogg/Vorbis decode slice from vorbis-reference into username/moon_rodio/decoder.","notes":"Start Vorbis implementation together with FLAC via native FFI backend.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-13T22:22:00.348272+08:00","created_by":"Milky2018","updated_at":"2026-02-13T23:54:17.892847+08:00","closed_at":"2026-02-13T23:54:17.892847+08:00","close_reason":"Implemented Vorbis decode via native FFI using stb_vorbis; added decoder tests and non-native stub.","dependencies":[{"issue_id":"moon_rodio-e1s.6","depends_on_id":"moon_rodio-e1s","type":"parent-child","created_at":"2026-02-13T22:22:00.349409+08:00","created_by":"Milky2018"}]}
{"id":"moon_rodio-e1s.7","title":"Port root Decoder/play API and wire decoder package","description":"Expose Decoder/Play APIs in username/moon_rodio using native decoder package and Source integration.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-14T10:28:12.392303+08:00","created_by":"Milky2018","updated_at":"2026-02-14T10:32:36.100325+08:00","closed_at":"2026-02-14T10:32:36.100325+08:00","close_reason":"Implemented root Decoder/play API with native decoder integration and added coverage tests.","dependencies":[{"issue_id":"moon_rodio-e1s.7","depends_on_id":"moon_rodio-e1s","type":"parent-child","created_at":"2026-02-14T10:28:12.393544+08:00","created_by":"Milky2018"}]}
{"id":"moon_rodio-h3v","title":"Rename module path to Milky2018/moon_rodio","description":"Replace all username/moon_rodio references with Milky2018/moon_rodio and verify build/tests.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-14T10:52:01.791982+08:00","created_by":"Milky2018","updated_at":"2026-02-14T10:52:31.374638+08:00","closed_at":"2026-02-14T10:52:31.374638+08:00","close_reason":"Replaced module path references with Milky2018/moon_rodio and verified native tests."}
